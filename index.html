<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">

    <link rel="import" href="./sections/appSections/main.html">
    <link rel="import" href="./sections/appSections/about.html">
    <link rel="import" href="./sections/authorization/login.html">
    <link rel="import" href="./sections/authorization/registration.html">
    <link rel="import" href="./sections/toSchool/background.html">

    <link type="text/css" rel="stylesheet" href="./assets/css/index.css">
</head>

<body>
    <div id="vue">
        <main class="content js-content"></main>
    </div>
</body>
<!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script> -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script>
    require('./assets/imports')
    require('./assets/scripts')
</script>
<script type="text/javascript">
    let electron = require('electron')
    let vm = new Vue({
        el: '#vue',
        data: {
            greeeting: 'Hello, it is a I\'M Project!',
            message: 'This is',
            section: 'reg',
            prevSections: [],
            nextSections: [],
            dialogText: 'Empty message',
            emaill: '',
            password: '',
            backgroundColor: '#C7EB00'
        },
        methods: {
            setPage(sectionName) {
                if (this.section == sectionName) return;
                if (this.prevSections.length >= 20) {
                    this.prevSections.shift()
                    this.prevSections.push(this.section)
                } else {
                    this.prevSections.push(this.section)
                }
                this.section = sectionName
            },
            dialogMsg() {
                let dialog = electron.remote.dialog
                let buttons = ['Ok'];
                dialog.showMessageBox({
                    buttons: buttons,
                    title: 'Electron Message Dialog',
                    message: this.dialogText,
                    detail: 'A more descriptive message with some details',
                }, (buttonIndex) => {
                    console.log('User selected: ' + buttons[buttonIndex]) // Получим ответ из диалога
                })
            },
            login() {
                return
            },
            registration() {
                return
            },
            setBackground() {
                let background = document.querySelector('input.background').value
                background = (/#?([a-f0-9]{6}|[a-f0-9]{3})/i.exec(background)[0] === background) ? background : this.backgroundColor

                let body = document.querySelector('body')
                body.style = `background: ${background}`
            }
        },
        computed: {
            session: {},
        }
    })
</script>
</html>